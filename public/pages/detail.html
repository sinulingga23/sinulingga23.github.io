<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Submission 2</title>
        <meta name="description" content="submission2, dicoding, mpwa">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../../css/materialize.min.css">
        <link rel="stylesheet" href="../../css/style.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <meta name="theme-color" content="#00897B">
    </head>

    <body style="display: none;">
        <header>
            <nav class="nav-wrapper" role="navigation">
				<div class="container">
					<div class="nav-wrapper">
						<a href="../../index.html" class="brand-logo left"><i class="large material-icons">arrow_back</i></a>
					</div>
				</div>
            </nav>
            <div class="section no-pad-bot">
                <div class="container">
                    <h3 class="header center" id="league-title">Detail Team</h3>
                    <div class="row" id="homeStandings" style="margin-top: 30px;">
                    </div>
                </div>
            </div>            
        </header>

        <main class="row">
			<div class="container" id="detail-team">
                <div class="row">
                    <div class="col s12 m4">
                        <img class="materialboxed" src="https://crests.football-data.org/5.svg">
                    </div>
                    <div class="col s12 m8">
                        <div class="row">
                            <table class="responsive-table" id="head-team">
                                <thead>
                                    <tr>
                                        <th>Team</th>
                                        <th>Founded</th>
                                        <th>Venue</th>
                                        <th>Address</th>
                                        <th>Web & Email</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>FC Bayern München</td>
                                        <td>1990</td>
                                        <td>Allianz Arena</td>
                                        <td>Säbenerstr. 51 München 81547</td>
                                        <td>http://www.fcbayern.de | service-team@fcb.de</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="row">
                            <div class="col s12 m10">
                            </div>
                            <div class="col s12 m2">
                                <a class="btn-floating btn-large black pulse" id="btn-favorite"><i class="material-icons">bookmark</i></a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <table class="striped responsive-table" id="squads-team">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Date Of Birth</th>
                                <th>Country of Birth</th>
                                <th>Role</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>         
            </div>
		</main>

        <script src="../../js/materialize.min.js"></script>
        <script src="../../js/league.js"></script>
        <script src="../../js/api.js"></script>
        <script src="../../js/idb.js"></script>
        <script src="../../js/db.js"></script>
        <script src="../../js/operation_db.js"></script>

		<script>
			const urlParams = new URLSearchParams(window.location.search);
			const getIdTeam = urlParams.get("id");
			console.log("ID Team:" + getIdTeam);
            getDetailTeam(getIdTeam);
        </script>
        
        <script>
            const getBtnFavorite = document.getElementById("btn-favorite");
            getBtnFavorite.addEventListener("click", event => {
                event.preventDefault();
                insertTeam();
                
            });
        </script>

        <!-- Mendaftarkan service worker -->
        <script>
            if ("serviceWorker" in navigator) {
                window.addEventListener("load", () => {
                    navigator.serviceWorker
                    .register("/service-worker.js")
                    .then(() => {
                        console.log("Pendaftaran ServiceWorker berhasil.")
                    })
                    .catch(() => {
                        console.error("Pendaftaran ServiceWorker gagal");
                    });
                })
            } else {
                console.error("ServiceWorker belum didukung browser ini.");
            }
		</script>
		
    </body>
</html>